---
phase: 17-update-docs-folder
plan: 02
type: execute
---

<objective>
Update USER_GUIDE.md and CLI_REFERENCE.md for v1.1 features.

Purpose: Document user-facing v1.1 features: full lifecycle execution, --dry-run flag, error recovery/resume, and auto-status updates.
Output: Updated USER_GUIDE.md and CLI_REFERENCE.md with comprehensive v1.1 feature documentation.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan summary:

@.planning/phases/17-update-docs-folder/17-01-SUMMARY.md

# Current docs to update:

@docs/USER_GUIDE.md
@docs/CLI_REFERENCE.md

# Source files for feature details:

@internal/cli/run.go
@internal/lifecycle/executor.go
@internal/state/state.go
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update USER_GUIDE.md with v1.1 features</name>
  <files>docs/USER_GUIDE.md</files>
  <action>
Update USER_GUIDE.md to document v1.1 lifecycle features:

1. Update "Status-Based Automation" section to explain full lifecycle execution:
   - The `run` command now executes complete lifecycle (create→dev→review→commit)
   - Auto-updates status after each successful step
   - Stops at done or on first failure

2. Add new "Full Lifecycle Execution" section after Status-Based Automation:
   - Explain the complete flow from any status to done
   - Show example: `bmad-automate run PROJ-123` processes entire lifecycle
   - Document step sequence based on starting status

3. Add new "Dry Run Mode" section:
   - `bmad-automate run --dry-run PROJ-123`
   - Preview workflow sequence without execution
   - Show example output format

4. Add new "Error Recovery" section:
   - Explain state persistence on failure (.bmad-state.json)
   - Resume from failure point automatically
   - Show example of resuming after failure

5. Update "Error Handling" section:
   - Add information about resume capability
   - Document .bmad-state.json file

Keep existing content, extend with new v1.1 capabilities.
</action>
<verify>grep -q "Lifecycle" docs/USER_GUIDE.md && grep -q "dry-run" docs/USER_GUIDE.md && grep -q "resume" docs/USER_GUIDE.md</verify>
<done>USER_GUIDE.md documents full lifecycle execution, dry-run mode, and error recovery</done>
</task>

<task type="auto">
  <name>Task 2: Update CLI_REFERENCE.md with v1.1 changes</name>
  <files>docs/CLI_REFERENCE.md</files>
  <action>
Update CLI_REFERENCE.md for v1.1 CLI changes:

1. Update `run` command documentation:
   - Add --dry-run flag to usage: `bmad-automate run [--dry-run] <story-key>`
   - Update behavior description: now executes full lifecycle, not just single step
   - Add flag table: `--dry-run | Preview workflow sequence without execution`
   - Update example to show lifecycle completion
   - Document auto-status updates after each step

2. Update `queue` command documentation:
   - Note that each story goes through full lifecycle
   - Document --dry-run flag: `bmad-automate queue [--dry-run] <story-key>...`

3. Update `epic` command documentation:
   - Note full lifecycle execution for each story
   - Document --dry-run flag

4. Add "State File" section (after Sprint Status File):
   - Document .bmad-state.json for error recovery
   - Explain when state is saved/cleared
   - Location and format

5. Update Status Routing table to show lifecycle sequence:
   | Story Status | Remaining Lifecycle |
   | backlog | create→dev→review→commit→done |
   | ready-for-dev | dev→review→commit→done |
   | etc.
   </action>
   <verify>grep -q "\-\-dry-run" docs/CLI_REFERENCE.md && grep -q "lifecycle" docs/CLI_REFERENCE.md && grep -q "bmad-state" docs/CLI_REFERENCE.md</verify>
   <done>CLI_REFERENCE.md documents --dry-run flag, full lifecycle behavior, and state file</done>
   </task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] USER_GUIDE.md has Full Lifecycle Execution section
- [ ] USER_GUIDE.md has Dry Run Mode section
- [ ] USER_GUIDE.md has Error Recovery section
- [ ] CLI_REFERENCE.md documents --dry-run flag for run, queue, epic
- [ ] CLI_REFERENCE.md explains full lifecycle execution
- [ ] CLI_REFERENCE.md documents .bmad-state.json
- [ ] No broken markdown links
</verification>

<success_criteria>

- USER_GUIDE.md fully documents v1.1 user-facing features
- CLI_REFERENCE.md is accurate for v1.1 CLI behavior
- --dry-run flag documented with examples
- Error recovery documented with state file explanation
- Existing content preserved, extended with v1.1 features
  </success_criteria>

<output>
After completion, create `.planning/phases/17-update-docs-folder/17-02-SUMMARY.md`
</output>
