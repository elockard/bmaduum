---
phase: 17-update-docs-folder
plan: 01
type: execute
---

<objective>
Update PACKAGES.md with lifecycle and state package documentation.

Purpose: Complete the API reference by documenting the new v1.1 packages (lifecycle, state) that enable full story lifecycle execution with error recovery.
Output: Updated PACKAGES.md with comprehensive documentation for lifecycle and state packages.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase summaries for established patterns:

@.planning/phases/14-godoc-core-packages/14-02-SUMMARY.md
@.planning/phases/15-godoc-supporting-packages/15-03-SUMMARY.md

# Current docs to update:

@docs/PACKAGES.md

# Source files to document:

@internal/lifecycle/executor.go
@internal/state/state.go
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add lifecycle package to PACKAGES.md</name>
  <files>docs/PACKAGES.md</files>
  <action>
Add lifecycle package documentation to PACKAGES.md following the existing pattern:

1. Add entry to Package Overview table:
   | [lifecycle](#lifecycle) | `internal/lifecycle/` | Story lifecycle orchestration |

2. Create new section after workflow section with:
   - Package header and description
   - Types: Executor, WorkflowRunner interface, StatusReader interface, StatusWriter interface, ProgressCallback
   - Functions: NewExecutor, SetProgressCallback, Execute
   - Include method signatures with parameter/return documentation
   - Add usage example showing lifecycle execution

Follow existing patterns from claude, workflow, status sections. Use same formatting: Types subheading, Functions subheading, parameter tables.
</action>
<verify>grep -q "## lifecycle" docs/PACKAGES.md && grep -q "Executor" docs/PACKAGES.md</verify>
<done>lifecycle package section exists in PACKAGES.md with Executor, interfaces, and functions documented</done>
</task>

<task type="auto">
  <name>Task 2: Add state package to PACKAGES.md</name>
  <files>docs/PACKAGES.md</files>
  <action>
Add state package documentation to PACKAGES.md following the existing pattern:

1. Add entry to Package Overview table:
   | [state](#state) | `internal/state/` | Lifecycle state persistence for resume |

2. Create new section after lifecycle section with:
   - Package header and description (error recovery, resume functionality)
   - Constants: StateFileName, ErrNoState
   - Types: State struct with all fields (StoryKey, StepIndex, TotalSteps, StartStatus), Manager struct
   - Functions: NewManager, Save, Load, Clear, statePath
   - Include usage example showing save/load pattern

Follow existing patterns. Explain the atomic write (temp file + rename) pattern in Save documentation.
</action>
<verify>grep -q "## state" docs/PACKAGES.md && grep -q "Manager" docs/PACKAGES.md && grep -q "ErrNoState" docs/PACKAGES.md</verify>
<done>state package section exists in PACKAGES.md with State, Manager, constants, and functions documented</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] PACKAGES.md contains lifecycle section with all types and functions
- [ ] PACKAGES.md contains state section with all types, constants, and functions
- [ ] Package Overview table includes both new packages
- [ ] Documentation follows existing formatting patterns
- [ ] No broken markdown links
</verification>

<success_criteria>

- Both lifecycle and state packages documented in PACKAGES.md
- Documentation matches existing style (types, functions, examples)
- All key types, interfaces, and functions covered
- Usage examples provided for both packages
  </success_criteria>

<output>
After completion, create `.planning/phases/17-update-docs-folder/17-01-SUMMARY.md`
</output>
