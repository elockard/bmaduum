---
phase: 14-godoc-core-packages
plan: 02
type: execute
---

<objective>
Add comprehensive go doc comments to the internal/lifecycle package.

Purpose: Enable `go doc` to generate useful documentation for the story lifecycle execution layer.
Output: All exported types, interfaces, functions, and methods in internal/lifecycle have complete doc comments.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/codebase/CONVENTIONS.md

**Package overview:**

- `internal/lifecycle` - Story lifecycle execution (create->dev->review->commit)
- Files: executor.go
- Current state: No package doc, minimal type comments

**Go doc comment conventions:**

- Package comment: First sentence is package summary
- Type/function comment: First sentence is one-line summary
- Document exported items only (unexported items optional)
- Use complete sentences ending in periods
- Reference related types/functions with square brackets: [Executor]
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Add package documentation</name>
  <files>internal/lifecycle/executor.go</files>
  <action>
Add package-level doc comment at the top of executor.go (before the package statement):
- One-line summary: "Package lifecycle orchestrates story lifecycle execution."
- Brief explanation of what lifecycle means (status-to-done automation)
- Mention the key type [Executor] and what it does
- Reference dependencies: [router.GetLifecycle], [status.Status]

Example structure:

```
// Package lifecycle orchestrates story lifecycle execution from current status to done.
//
// The lifecycle package provides [Executor] which runs stories through their complete
// workflow sequence (create->dev->review->commit) based on current status. Each step
// updates the story status automatically after successful completion.
//
// Key concepts:
//   - Lifecycle steps are determined by [router.GetLifecycle] based on current status
//   - Each step runs a workflow then updates status via [StatusWriter]
//   - Progress can be tracked via [ProgressCallback]
```

  </action>
  <verify>go doc ./internal/lifecycle shows package overview</verify>
  <done>Package has descriptive overview visible in go doc</done>
</task>

<task type="auto">
  <name>Task 2: Document interfaces and types</name>
  <files>internal/lifecycle/executor.go</files>
  <action>
Enhance doc comments for each exported item:

WorkflowRunner interface:

- Document as the workflow execution dependency
- Explain what RunSingle does (executes workflow, returns exit code)
- Note that [workflow.Runner] implements this

StatusReader interface:

- Document as the status lookup dependency
- Explain what GetStoryStatus returns
- Reference [status.Status] type

StatusWriter interface:

- Document as the status update dependency
- Explain when UpdateStatus is called (after successful workflow)

ProgressCallback:

- Document the parameters (stepIndex starts at 1, totalSteps, workflow name)
- Document when it's called (before each step)
- Note it's optional

Executor struct:

- Document as the main orchestrator
- Explain the dependency injection pattern
- Reference the Execute method as primary API

NewExecutor:

- Document parameters and their purposes
- Note that progressCallback is set separately

SetProgressCallback:

- Document as optional configuration
- Explain what information the callback receives

Execute method:

- Document the complete lifecycle (status->workflows->done)
- Document error cases (status lookup failure, workflow failure, status update failure)
- Note the fail-fast behavior (stops on first error)

GetSteps method:

- Document as dry-run support
- Explain it returns steps without executing
- Document error cases
  </action>
  <verify>go doc ./internal/lifecycle.Executor shows complete type docs with all methods</verify>
  <done>All exported types, interfaces, and functions have complete doc comments</done>
  </task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `go doc ./internal/lifecycle` shows package overview
- [ ] `go doc ./internal/lifecycle.Executor` shows detailed type docs
- [ ] `go doc ./internal/lifecycle.WorkflowRunner` shows interface docs
- [ ] `go doc ./internal/lifecycle.ProgressCallback` shows callback docs
- [ ] `golangci-lint run ./internal/lifecycle/...` passes
- [ ] No exported items without doc comments
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- go doc output is informative and useful for package users
- Doc comments follow Go conventions (complete sentences, first sentence is summary)
  </success_criteria>

<output>
After completion, create `.planning/phases/14-godoc-core-packages/14-02-SUMMARY.md`
</output>
